<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Over - Victory!</title>
    <style>
        :root {
            --primary-green: #2E7D32;
            --ocean-blue: #4A90E2;
            --sand-beige: #F4E4BC;
            --parchment: #FDF6E3;
            --coral: #FF6F61;
            --dark-coral: #E55A50;
            --teal: #26A69A;
            --success-green: #4CAF50;
            --shadow: rgba(0, 0, 0, 0.2);
            --text-dark: #333;
            --text-light: #666;
        }

        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(to bottom, #87CEEB 0%, var(--sand-beige) 100%);
            color: var(--text-dark);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease-in;
        }

        .modal-content {
            background: linear-gradient(145deg, var(--parchment), #FFF8E1);
            padding: 20px;
            border-radius: 15px;
            max-width: 400px;
            width: 80%;
            text-align: center;
            box-shadow: 0 6px 12px var(--shadow);
            border: 3px solid var(--primary-green);
        }

        .modal-content h1 {
            color: var(--success-green);
            font-size: 2em;
            margin: 0.5em 0;
            font-weight: 700;
            text-shadow: 1px 1px 2px var(--shadow);
        }

        .modal-content p {
            color: var(--text-dark);
            font-size: 1.1em;
            line-height: 1.5;
            margin: 10px 0;
        }

        .modal-content button {
            padding: 12px 24px;
            font-size: 1.2em;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, var(--coral), var(--dark-coral));
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
            margin: 10px;
            box-shadow: 0 4px 8px var(--shadow);
        }

        .modal-content button:hover {
            background: linear-gradient(135deg, var(--dark-coral), var(--coral));
            transform: translateY(-2px);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 600px) {
            .modal-content {
                width: 90%;
                padding: 15px;
            }

            .modal-content h1 {
                font-size: 1.8em;
            }

            .modal-content p {
                font-size: 1em;
            }

            .modal-content button {
                font-size: 1em;
                padding: 10px 20px;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div id="end-modal" class="modal">
        <div class="modal-content">
            <h1>Victory! You Escaped the Island!</h1>
            <p>Congratulations! You solved the radio code, unlocked the bullets, and fired the flare. The rescue chopper spotted your signal and safely extracted you just as the plane exploded in the distance. You're a true survivor!</p>
            <button id="play-again-btn">Play Again</button>
        </div>
    </div>

    <script>
        (function () {
            const playAgainBtn = document.getElementById('play-again-btn');
            const endModal = document.getElementById('end-modal');

            if (!playAgainBtn || !endModal) {
                console.error('One or more DOM elements are missing. Please check the HTML structure.');
                return;
            }

            function restartGame() {
                window.location.href = 'index.html';
            }

            playAgainBtn.addEventListener('click', () => {
                try {
                    restartGame();
                } catch (error) {
                    console.error('Error in restart action:', error);
                }
            });
        })();
    </script>
</body>
</html>